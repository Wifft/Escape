(()=>{"use strict";var t={648:(t,r,e)=>{function i(t,r){if(!t)throw new Error("math.gl assertion ".concat(r))}e.r(r),e.d(r,{Euler:()=>Tt,Matrix3:()=>ct,Matrix4:()=>mt,Pose:()=>_t,Quaternion:()=>Nt,SphericalCoordinates:()=>Pt,Vector2:()=>z,Vector3:()=>J,Vector4:()=>rt,_Euler:()=>Tt,_MathUtils:()=>Rt,_Pose:()=>_t,_SphericalCoordinates:()=>Pt,acos:()=>x,asin:()=>E,assert:()=>i,atan:()=>w,checkNumber:()=>R,clamp:()=>O,clone:()=>u,config:()=>n,configure:()=>a,cos:()=>p,degrees:()=>M,equals:()=>S,exactEquals:()=>k,formatValue:()=>o,isArray:()=>c,lerp:()=>b,radians:()=>g,sin:()=>m,tan:()=>y,toDegrees:()=>d,toRadians:()=>f,withEpsilon:()=>v});const s=1/Math.PI*180,h=1/180*Math.PI,n={};function a(t={}){for(const r in t)i(r in n),n[r]=t[r];return n}function o(t,{precision:r=n.precision||4}={}){return t=function(t){return Math.round(t/n.EPSILON)*n.EPSILON}(t),"".concat(parseFloat(t.toPrecision(r)))}function c(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function u(t){return t.clone?t.clone():new Array(...t)}function l(t,r,e){if(c(t)){e=e||((i=t).clone?i.clone():new Array(i.length));for(let i=0;i<e.length&&i<t.length;++i)e[i]=r(t[i],i,e);return e}var i;return r(t)}function f(t){return g(t)}function d(t){return M(t)}function g(t,r){return l(t,(t=>t*h),r)}function M(t,r){return l(t,(t=>t*s),r)}function m(t){return l(t,(t=>Math.sin(t)))}function p(t){return l(t,(t=>Math.cos(t)))}function y(t){return l(t,(t=>Math.tan(t)))}function E(t){return l(t,(t=>Math.asin(t)))}function x(t){return l(t,(t=>Math.acos(t)))}function w(t){return l(t,(t=>Math.atan(t)))}function O(t,r,e){return l(t,(t=>Math.max(r,Math.min(e,t))))}function b(t,r,e){return c(t)?t.map(((t,i)=>b(t,r[i],e))):e*r+(1-e)*t}function S(t,r,e){const i=n.EPSILON;e&&(n.EPSILON=e);try{if(t===r)return!0;if(c(t)&&c(r)){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!S(t[e],r[e]))return!1;return!0}return t&&t.equals?t.equals(r):r&&r.equals?r.equals(t):!(!Number.isFinite(t)||!Number.isFinite(r))&&Math.abs(t-r)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(r))}finally{n.EPSILON=i}}function k(t,r){if(t===r)return!0;if(t&&"object"==typeof t&&r&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(t.exactEquals)return t.exactEquals(r)}if(c(t)&&c(r)){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!k(t[e],r[e]))return!1;return!0}return!1}function v(t,r){const e=n.EPSILON;let i;n.EPSILON=t;try{i=r()}finally{n.EPSILON=e}return i}n.EPSILON=1e-12,n.debug=!1,n.precision=4,n.printTypes=!1,n.printDegrees=!1,n.printRowMajor=!0;class N extends(function(t){function r(){var r=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(r,Object.getPrototypeOf(this)),r}return r.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t,r}(Array)){get ELEMENTS(){return i(!1),0}clone(){return(new this.constructor).copy(this)}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}fromArray(t,r=0){for(let e=0;e<this.ELEMENTS;++e)this[e]=t[e+r];return this.check()}to(t){return t===this?this:c(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toArray(t=[],r=0){for(let e=0;e<this.ELEMENTS;++e)t[r+e]=this[e];return t}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n)}formatString(t){let r="";for(let e=0;e<this.ELEMENTS;++e)r+=(e>0?", ":"")+o(this[e],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(r,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(!S(this[r],t[r]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(this[r]!==t[r])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,r,e){void 0===e&&(e=r,r=t,t=this);for(let i=0;i<this.ELEMENTS;++i){const s=t[i];this[i]=s+e*(r[i]-s)}return this.check()}min(t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(t[r],this[r]);return this.check()}max(t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.max(t[r],this[r]);return this.check()}clamp(t,r){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(Math.max(this[e],t[e]),r[e]);return this.check()}add(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=r[t];return this.check()}subtract(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=r[t];return this.check()}scale(t){if(Array.isArray(t))return this.multiply(t);for(let r=0;r<this.ELEMENTS;++r)this[r]*=t;return this.check()}sub(t){return this.subtract(t)}setScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]=t;return this.check()}addScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]*=t;return this.check()}divideScalar(t){return this.scale(1/t)}clampScalar(t,r){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(Math.max(this[e],t),r);return this.check()}multiplyByScalar(t){return this.scale(t)}get elements(){return this}check(){if(n.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let r=0;r<this.ELEMENTS;++r)t=t&&Number.isFinite(this[r]);return t}}function R(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function L(t,r,e=""){if(n.debug&&!function(t,r){if(t.length!==r)return!1;for(let r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t,r))throw new Error("math.gl: ".concat(e," some fields set to invalid numbers'"));return t}const P={};function I(t,r){P[t]||(P[t]=!0,console.warn("".concat(t," has been removed in version ").concat(r,", see upgrade guide for more information")))}class A extends N{get ELEMENTS(){return i(!1),0}copy(t){return i(!1),this}get x(){return this[0]}set x(t){this[0]=R(t)}get y(){return this[1]}set y(t){this[1]=R(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*this[r];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let r=0;for(let e=0;e<this.ELEMENTS;++e){const i=this[e]-t[e];r+=i*i}return R(r)}dot(t){let r=0;for(let e=0;e<this.ELEMENTS;++e)r+=this[e]*t[e];return R(r)}normalize(){const t=this.magnitude();if(0!==t)for(let r=0;r<this.ELEMENTS;++r)this[r]/=t;return this.check()}multiply(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=r[t];return this.check()}divide(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=r[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return i(t>=0&&t<this.ELEMENTS,"index is out of range"),R(this[t])}setComponent(t,r){return i(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=r,this.check()}addVectors(t,r){return this.copy(t).add(r)}subVectors(t,r){return this.copy(t).subtract(r)}multiplyVectors(t,r){return this.copy(t).multiply(r)}addScaledVector(t,r){return this.add(new this.constructor(t).multiplyScalar(r))}}var T,_=1e-6,Z="undefined"!=typeof Float32Array?Float32Array:Array;function Y(t,r,e){var i=r[0],s=r[1];return t[0]=e[0]*i+e[3]*s+e[6],t[1]=e[1]*i+e[4]*s+e[7],t}function j(t,r,e){var i=r[0],s=r[1];return t[0]=e[0]*i+e[4]*s+e[12],t[1]=e[1]*i+e[5]*s+e[13],t}function C(t,r,e){const i=r[0],s=r[1],h=e[3]*i+e[7]*s||1;return t[0]=(e[0]*i+e[4]*s)/h,t[1]=(e[1]*i+e[5]*s)/h,t}function X(t,r,e){const i=r[0],s=r[1],h=r[2],n=e[3]*i+e[7]*s+e[11]*h||1;return t[0]=(e[0]*i+e[4]*s+e[8]*h)/n,t[1]=(e[1]*i+e[5]*s+e[9]*h)/n,t[2]=(e[2]*i+e[6]*s+e[10]*h)/n,t}function q(t,r,e){const i=r[0],s=r[1],h=r[2];return t[0]=e[0]*i+e[3]*s+e[6]*h,t[1]=e[1]*i+e[4]*s+e[7]*h,t[2]=e[2]*i+e[5]*s+e[8]*h,t[3]=r[3],t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)}),T=new Z(2),Z!=Float32Array&&(T[0]=0,T[1]=0);class z extends A{constructor(t=0,r=0){super(2),c(t)&&1===arguments.length?this.copy(t):(n.debug&&(R(t),R(r)),this[0]=t,this[1]=r)}set(t,r){return this[0]=t,this[1]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return n.debug&&(R(t.x),R(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return j(this,this,t),this.check()}transformAsVector(t){return C(this,this,t),this.check()}transformByMatrix3(t){return Y(this,this,t),this.check()}transformByMatrix2x3(t){return function(t,r,e){var i=r[0],s=r[1];t[0]=e[0]*i+e[2]*s+e[4],t[1]=e[1]*i+e[3]*s+e[5]}(this,this,t),this.check()}transformByMatrix2(t){return function(t,r,e){var i=r[0],s=r[1];t[0]=e[0]*i+e[2]*s,t[1]=e[1]*i+e[3]*s}(this,this,t),this.check()}}function V(){var t=new Z(3);return Z!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function F(t){var r=t[0],e=t[1],i=t[2];return Math.hypot(r,e,i)}function D(t,r,e){var i=new Z(3);return i[0]=t,i[1]=r,i[2]=e,i}function W(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function B(t,r,e){var i=r[0],s=r[1],h=r[2],n=e[0],a=e[1],o=e[2];return t[0]=s*o-h*a,t[1]=h*n-i*o,t[2]=i*a-s*n,t}function K(t,r,e){var i=r[0],s=r[1],h=r[2],n=e[3]*i+e[7]*s+e[11]*h+e[15];return n=n||1,t[0]=(e[0]*i+e[4]*s+e[8]*h+e[12])/n,t[1]=(e[1]*i+e[5]*s+e[9]*h+e[13])/n,t[2]=(e[2]*i+e[6]*s+e[10]*h+e[14])/n,t}function Q(t,r,e){var i=r[0],s=r[1],h=r[2];return t[0]=i*e[0]+s*e[3]+h*e[6],t[1]=i*e[1]+s*e[4]+h*e[7],t[2]=i*e[2]+s*e[5]+h*e[8],t}function H(t,r,e){var i=e[0],s=e[1],h=e[2],n=e[3],a=r[0],o=r[1],c=r[2],u=s*c-h*o,l=h*a-i*c,f=i*o-s*a,d=s*f-h*l,g=h*u-i*f,M=i*l-s*u,m=2*n;return u*=m,l*=m,f*=m,d*=2,g*=2,M*=2,t[0]=a+u+d,t[1]=o+l+g,t[2]=c+f+M,t}var U=F;V();const $=[0,0,0],G={};class J extends A{static get ZERO(){return G.ZERO=G.ZERO||Object.freeze(new J(0,0,0,0))}constructor(t=0,r=0,e=0){super(-0,-0,-0),1===arguments.length&&c(t)?this.copy(t):(n.debug&&(R(t),R(r),R(e)),this[0]=t,this[1]=r,this[2]=e)}set(t,r,e){return this[0]=t,this[1]=r,this[2]=e,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return n.debug&&(R(t.x),R(t.y),R(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=R(t)}angle(t){return e=t,i=(r=this)[0],s=r[1],h=r[2],n=e[0],a=e[1],o=e[2],u=(c=Math.sqrt(i*i+s*s+h*h)*Math.sqrt(n*n+a*a+o*o))&&W(r,e)/c,Math.acos(Math.min(Math.max(u,-1),1));var r,e,i,s,h,n,a,o,c,u}cross(t){return B(this,this,t),this.check()}rotateX({radians:t,origin:r=$}){return function(t,r,e,i){var s=[],h=[];s[0]=r[0]-e[0],s[1]=r[1]-e[1],s[2]=r[2]-e[2],h[0]=s[0],h[1]=s[1]*Math.cos(i)-s[2]*Math.sin(i),h[2]=s[1]*Math.sin(i)+s[2]*Math.cos(i),t[0]=h[0]+e[0],t[1]=h[1]+e[1],t[2]=h[2]+e[2]}(this,this,r,t),this.check()}rotateY({radians:t,origin:r=$}){return function(t,r,e,i){var s=[],h=[];s[0]=r[0]-e[0],s[1]=r[1]-e[1],s[2]=r[2]-e[2],h[0]=s[2]*Math.sin(i)+s[0]*Math.cos(i),h[1]=s[1],h[2]=s[2]*Math.cos(i)-s[0]*Math.sin(i),t[0]=h[0]+e[0],t[1]=h[1]+e[1],t[2]=h[2]+e[2]}(this,this,r,t),this.check()}rotateZ({radians:t,origin:r=$}){return function(t,r,e,i){var s=[],h=[];s[0]=r[0]-e[0],s[1]=r[1]-e[1],s[2]=r[2]-e[2],h[0]=s[0]*Math.cos(i)-s[1]*Math.sin(i),h[1]=s[0]*Math.sin(i)+s[1]*Math.cos(i),h[2]=s[2],t[0]=h[0]+e[0],t[1]=h[1]+e[1],t[2]=h[2]+e[2]}(this,this,r,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return K(this,this,t),this.check()}transformAsVector(t){return X(this,this,t),this.check()}transformByMatrix3(t){return Q(this,this,t),this.check()}transformByMatrix2(t){return function(t,r,e){const i=r[0],s=r[1];t[0]=e[0]*i+e[2]*s,t[1]=e[1]*i+e[3]*s,t[2]=r[2]}(this,this,t),this.check()}transformByQuaternion(t){return H(this,this,t),this.check()}}const tt={};class rt extends A{static get ZERO(){return tt.ZERO=tt.ZERO||Object.freeze(new rt(0,0,0,0))}constructor(t=0,r=0,e=0,i=0){super(-0,-0,-0,-0),c(t)&&1===arguments.length?this.copy(t):(n.debug&&(R(t),R(r),R(e),R(i)),this[0]=t,this[1]=r,this[2]=e,this[3]=i)}set(t,r,e,i){return this[0]=t,this[1]=r,this[2]=e,this[3]=i,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}fromObject(t){return n.debug&&(R(t.x),R(t.y),R(t.z),R(t.w)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t.w=this[3],t}get ELEMENTS(){return 4}get z(){return this[2]}set z(t){this[2]=R(t)}get w(){return this[3]}set w(t){this[3]=R(t)}transform(t){return K(this,this,t),this.check()}transformByMatrix3(t){return q(this,this,t),this.check()}transformByMatrix2(t){return function(t,r,e){const i=r[0],s=r[1];t[0]=e[0]*i+e[2]*s,t[1]=e[1]*i+e[3]*s,t[2]=r[2],t[3]=r[3]}(this,this,t),this.check()}transformByQuaternion(t){return H(this,this,t),this.check()}applyMatrix4(t){return t.transform(this,this),this}}class et extends N{get ELEMENTS(){return i(!1),0}get RANK(){return i(!1),0}toString(){let t="[";if(n.printRowMajor){t+="row-major:";for(let r=0;r<this.RANK;++r)for(let e=0;e<this.RANK;++e)t+=" ".concat(this[e*this.RANK+r])}else{t+="column-major:";for(let r=0;r<this.ELEMENTS;++r)t+=" ".concat(this[r])}return t+="]",t}getElementIndex(t,r){return r*this.RANK+t}getElement(t,r){return this[r*this.RANK+t]}setElement(t,r,e){return this[r*this.RANK+t]=R(e),this}getColumn(t,r=new Array(this.RANK).fill(-0)){const e=t*this.RANK;for(let t=0;t<this.RANK;++t)r[t]=this[e+t];return r}setColumn(t,r){const e=t*this.RANK;for(let t=0;t<this.RANK;++t)this[e+t]=r[t];return this}}function it(t,r,e){var i=r[0],s=r[1],h=r[2],n=r[3],a=r[4],o=r[5],c=r[6],u=r[7],l=r[8],f=e[0],d=e[1],g=e[2],M=e[3],m=e[4],p=e[5],y=e[6],E=e[7],x=e[8];return t[0]=f*i+d*n+g*c,t[1]=f*s+d*a+g*u,t[2]=f*h+d*o+g*l,t[3]=M*i+m*n+p*c,t[4]=M*s+m*a+p*u,t[5]=M*h+m*o+p*l,t[6]=y*i+E*n+x*c,t[7]=y*s+E*a+x*u,t[8]=y*h+E*o+x*l,t}function st(t,r,e){var i=e[0],s=e[1];return t[0]=i*r[0],t[1]=i*r[1],t[2]=i*r[2],t[3]=s*r[3],t[4]=s*r[4],t[5]=s*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}const ht=Object.freeze([1,0,0,0,1,0,0,0,1]),nt=Object.freeze([0,0,0,0,0,0,0,0,0]),at=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),ot={};class ct extends et{static get IDENTITY(){return ot.IDENTITY=ot.IDENTITY||Object.freeze(new ct(ht)),ot.IDENTITY}static get ZERO(){return ot.ZERO=ot.ZERO||Object.freeze(new ct(nt)),ot.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return at}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}set(t,r,e,i,s,h,n,a,o){return this[0]=t,this[1]=r,this[2]=e,this[3]=i,this[4]=s,this[5]=h,this[6]=n,this[7]=a,this[8]=o,this.check()}setRowMajor(t,r,e,i,s,h,n,a,o){return this[0]=t,this[1]=i,this[2]=n,this[3]=r,this[4]=s,this[5]=a,this[6]=e,this[7]=h,this[8]=o,this.check()}determinant(){return r=(t=this)[0],e=t[1],i=t[2],s=t[3],h=t[4],n=t[5],a=t[6],o=t[7],r*((c=t[8])*h-n*o)+e*(-c*s+n*a)+i*(o*s-h*a);var t,r,e,i,s,h,n,a,o,c}identity(){return this.copy(ht)}fromQuaternion(t){return function(t,r){var e=r[0],i=r[1],s=r[2],h=r[3],n=e+e,a=i+i,o=s+s,c=e*n,u=i*n,l=i*a,f=s*n,d=s*a,g=s*o,M=h*n,m=h*a,p=h*o;t[0]=1-l-g,t[3]=u-p,t[6]=f+m,t[1]=u+p,t[4]=1-c-g,t[7]=d-M,t[2]=f-m,t[5]=d+M,t[8]=1-c-l}(this,t),this.check()}transpose(){return function(t,r){if(t===r){var e=r[1],i=r[2],s=r[5];t[1]=r[3],t[2]=r[6],t[3]=e,t[5]=r[7],t[6]=i,t[7]=s}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8]}(this,this),this.check()}invert(){return function(t,r){var e=r[0],i=r[1],s=r[2],h=r[3],n=r[4],a=r[5],o=r[6],c=r[7],u=r[8],l=u*n-a*c,f=-u*h+a*o,d=c*h-n*o,g=e*l+i*f+s*d;g&&(g=1/g,t[0]=l*g,t[1]=(-u*i+s*c)*g,t[2]=(a*i-s*n)*g,t[3]=f*g,t[4]=(u*e-s*o)*g,t[5]=(-a*e+s*h)*g,t[6]=d*g,t[7]=(-c*e+i*o)*g,t[8]=(n*e-i*h)*g)}(this,this),this.check()}multiplyLeft(t){return it(this,t,this),this.check()}multiplyRight(t){return it(this,this,t),this.check()}rotate(t){return function(t,r,e){var i=r[0],s=r[1],h=r[2],n=r[3],a=r[4],o=r[5],c=r[6],u=r[7],l=r[8],f=Math.sin(e),d=Math.cos(e);t[0]=d*i+f*n,t[1]=d*s+f*a,t[2]=d*h+f*o,t[3]=d*n-f*i,t[4]=d*a-f*s,t[5]=d*o-f*h,t[6]=c,t[7]=u,t[8]=l}(this,this,t),this.check()}scale(t){return Array.isArray(t)?st(this,this,t):st(this,this,[t,t,t]),this.check()}translate(t){return function(t,r,e){var i=r[0],s=r[1],h=r[2],n=r[3],a=r[4],o=r[5],c=r[6],u=r[7],l=r[8],f=e[0],d=e[1];t[0]=i,t[1]=s,t[2]=h,t[3]=n,t[4]=a,t[5]=o,t[6]=f*i+d*n+c,t[7]=f*s+d*a+u,t[8]=f*h+d*o+l}(this,this,t),this.check()}transform(t,r){switch(t.length){case 2:r=Y(r||[-0,-0],t,this);break;case 3:r=Q(r||[-0,-0,-0],t,this);break;case 4:r=q(r||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return L(r,t.length),r}transformVector(t,r){return I("Matrix3.transformVector"),this.transform(t,r)}transformVector2(t,r){return I("Matrix3.transformVector"),this.transform(t,r)}transformVector3(t,r){return I("Matrix3.transformVector"),this.transform(t,r)}}function ut(t,r,e){var i=r[0],s=r[1],h=r[2],n=r[3],a=r[4],o=r[5],c=r[6],u=r[7],l=r[8],f=r[9],d=r[10],g=r[11],M=r[12],m=r[13],p=r[14],y=r[15],E=e[0],x=e[1],w=e[2],O=e[3];return t[0]=E*i+x*a+w*l+O*M,t[1]=E*s+x*o+w*f+O*m,t[2]=E*h+x*c+w*d+O*p,t[3]=E*n+x*u+w*g+O*y,E=e[4],x=e[5],w=e[6],O=e[7],t[4]=E*i+x*a+w*l+O*M,t[5]=E*s+x*o+w*f+O*m,t[6]=E*h+x*c+w*d+O*p,t[7]=E*n+x*u+w*g+O*y,E=e[8],x=e[9],w=e[10],O=e[11],t[8]=E*i+x*a+w*l+O*M,t[9]=E*s+x*o+w*f+O*m,t[10]=E*h+x*c+w*d+O*p,t[11]=E*n+x*u+w*g+O*y,E=e[12],x=e[13],w=e[14],O=e[15],t[12]=E*i+x*a+w*l+O*M,t[13]=E*s+x*o+w*f+O*m,t[14]=E*h+x*c+w*d+O*p,t[15]=E*n+x*u+w*g+O*y,t}function lt(t,r,e){var i=e[0],s=e[1],h=e[2];return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*h,t[9]=r[9]*h,t[10]=r[10]*h,t[11]=r[11]*h,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}!function(){var t=new Z(4);Z!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();const ft=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),dt=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),gt=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),Mt={};class mt extends et{static get IDENTITY(){return Mt.IDENTITY=Mt.IDENTITY||Object.freeze(new mt(ft)),Mt.IDENTITY}static get ZERO(){return Mt.ZERO=Mt.ZERO||Object.freeze(new mt(dt)),Mt.ZERO}get INDICES(){return gt}get ELEMENTS(){return 16}get RANK(){return 4}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,r,e,i,s,h,n,a,o,c,u,l,f,d,g,M){return this[0]=t,this[1]=r,this[2]=e,this[3]=i,this[4]=s,this[5]=h,this[6]=n,this[7]=a,this[8]=o,this[9]=c,this[10]=u,this[11]=l,this[12]=f,this[13]=d,this[14]=g,this[15]=M,this.check()}setRowMajor(t,r,e,i,s,h,n,a,o,c,u,l,f,d,g,M){return this[0]=t,this[1]=s,this[2]=o,this[3]=f,this[4]=r,this[5]=h,this[6]=c,this[7]=d,this[8]=e,this[9]=n,this[10]=u,this[11]=g,this[12]=i,this[13]=a,this[14]=l,this[15]=M,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(ft)}fromQuaternion(t){return function(t,r){var e=r[0],i=r[1],s=r[2],h=r[3],n=e+e,a=i+i,o=s+s,c=e*n,u=i*n,l=i*a,f=s*n,d=s*a,g=s*o,M=h*n,m=h*a,p=h*o;t[0]=1-l-g,t[1]=u+p,t[2]=f-m,t[3]=0,t[4]=u-p,t[5]=1-c-g,t[6]=d+M,t[7]=0,t[8]=f+m,t[9]=d-M,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this.check()}frustum({left:t,right:r,bottom:e,top:i,near:s,far:h}){return h===1/0?mt._computeInfinitePerspectiveOffCenter(this,t,r,e,i,s):function(t,r,e,i,s,h,n){var a=1/(e-r),o=1/(s-i),c=1/(h-n);t[0]=2*h*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*h*o,t[6]=0,t[7]=0,t[8]=(e+r)*a,t[9]=(s+i)*o,t[10]=(n+h)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=n*h*2*c,t[15]=0}(this,t,r,e,i,s,h),this.check()}static _computeInfinitePerspectiveOffCenter(t,r,e,i,s,h){const n=2*h/(e-r),a=2*h/(s-i),o=(e+r)/(e-r),c=(s+i)/(s-i),u=-2*h;return t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=o,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=u,t[15]=0,t}lookAt(t,r,e){return 1===arguments.length&&({eye:t,center:r,up:e}=t),function(t,r,e,i){var s,h,n,a,o,c,u,l,f,d,g=r[0],M=r[1],m=r[2],p=i[0],y=i[1],E=i[2],x=e[0],w=e[1],O=e[2];Math.abs(g-x)<_&&Math.abs(M-w)<_&&Math.abs(m-O)<_?function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(t):(u=g-x,l=M-w,f=m-O,s=y*(f*=d=1/Math.hypot(u,l,f))-E*(l*=d),h=E*(u*=d)-p*f,n=p*l-y*u,(d=Math.hypot(s,h,n))?(s*=d=1/d,h*=d,n*=d):(s=0,h=0,n=0),a=l*n-f*h,o=f*s-u*n,c=u*h-l*s,(d=Math.hypot(a,o,c))?(a*=d=1/d,o*=d,c*=d):(a=0,o=0,c=0),t[0]=s,t[1]=a,t[2]=u,t[3]=0,t[4]=h,t[5]=o,t[6]=l,t[7]=0,t[8]=n,t[9]=c,t[10]=f,t[11]=0,t[12]=-(s*g+h*M+n*m),t[13]=-(a*g+o*M+c*m),t[14]=-(u*g+l*M+f*m),t[15]=1)}(this,t,r=r||[0,0,0],e=e||[0,1,0]),this.check()}ortho({left:t,right:r,bottom:e,top:i,near:s=.1,far:h=500}){return function(t,r,e,i,s,h,n){var a=1/(r-e),o=1/(i-s),c=1/(h-n);t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(r+e)*a,t[13]=(s+i)*o,t[14]=(n+h)*c,t[15]=1}(this,t,r,e,i,s,h),this.check()}orthographic({fovy:t=45*Math.PI/180,aspect:r=1,focalDistance:e=1,near:i=.1,far:s=500}){if(t>2*Math.PI)throw Error("radians");const h=t/2,n=e*Math.tan(h),a=n*r;return(new mt).ortho({left:-a,right:a,bottom:-n,top:n,near:i,far:s})}perspective({fovy:t,fov:r=45*Math.PI/180,aspect:e=1,near:i=.1,far:s=500}={}){if((t=t||r)>2*Math.PI)throw Error("radians");return function(t,r,e,i,s){var h,n=1/Math.tan(r/2);t[0]=n/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0?(h=1/(i-s),t[10]=(s+i)*h,t[14]=2*s*i*h):(t[10]=-1,t[14]=-2*i)}(this,t,e,i,s),this.check()}determinant(){return r=(t=this)[0],e=t[1],i=t[2],s=t[3],h=t[4],n=t[5],a=t[6],o=t[7],c=t[8],u=t[9],l=t[10],f=t[11],d=t[12],g=t[13],M=t[14],(r*n-e*h)*(l*(m=t[15])-f*M)-(r*a-i*h)*(u*m-f*g)+(r*o-s*h)*(u*M-l*g)+(e*a-i*n)*(c*m-f*d)-(e*o-s*n)*(c*M-l*d)+(i*o-s*a)*(c*g-u*d);var t,r,e,i,s,h,n,a,o,c,u,l,f,d,g,M,m}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=null){const e=this.getScale(r||[-0,-0,-0]),i=1/e[0],s=1/e[1],h=1/e[2];return t[0]=this[0]*i,t[1]=this[1]*s,t[2]=this[2]*h,t[3]=0,t[4]=this[4]*i,t[5]=this[5]*s,t[6]=this[6]*h,t[7]=0,t[8]=this[8]*i,t[9]=this[9]*s,t[10]=this[10]*h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0],r=null){const e=this.getScale(r||[-0,-0,-0]),i=1/e[0],s=1/e[1],h=1/e[2];return t[0]=this[0]*i,t[1]=this[1]*s,t[2]=this[2]*h,t[3]=this[4]*i,t[4]=this[5]*s,t[5]=this[6]*h,t[6]=this[8]*i,t[7]=this[9]*s,t[8]=this[10]*h,t}transpose(){return function(t,r){if(t===r){var e=r[1],i=r[2],s=r[3],h=r[6],n=r[7],a=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=i,t[9]=h,t[11]=r[14],t[12]=s,t[13]=n,t[14]=a}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15]}(this,this),this.check()}invert(){return function(t,r){var e=r[0],i=r[1],s=r[2],h=r[3],n=r[4],a=r[5],o=r[6],c=r[7],u=r[8],l=r[9],f=r[10],d=r[11],g=r[12],M=r[13],m=r[14],p=r[15],y=e*a-i*n,E=e*o-s*n,x=e*c-h*n,w=i*o-s*a,O=i*c-h*a,b=s*c-h*o,S=u*M-l*g,k=u*m-f*g,v=u*p-d*g,N=l*m-f*M,R=l*p-d*M,L=f*p-d*m,P=y*L-E*R+x*N+w*v-O*k+b*S;P&&(P=1/P,t[0]=(a*L-o*R+c*N)*P,t[1]=(s*R-i*L-h*N)*P,t[2]=(M*b-m*O+p*w)*P,t[3]=(f*O-l*b-d*w)*P,t[4]=(o*v-n*L-c*k)*P,t[5]=(e*L-s*v+h*k)*P,t[6]=(m*x-g*b-p*E)*P,t[7]=(u*b-f*x+d*E)*P,t[8]=(n*R-a*v+c*S)*P,t[9]=(i*v-e*R-h*S)*P,t[10]=(g*O-M*x+p*y)*P,t[11]=(l*x-u*O-d*y)*P,t[12]=(a*k-n*N-o*S)*P,t[13]=(e*N-i*k+s*S)*P,t[14]=(M*E-g*w-m*y)*P,t[15]=(u*w-l*E+f*y)*P)}(this,this),this.check()}multiplyLeft(t){return ut(this,t,this),this.check()}multiplyRight(t){return ut(this,this,t),this.check()}rotateX(t){return function(t,r,e){var i=Math.sin(e),s=Math.cos(e),h=r[4],n=r[5],a=r[6],o=r[7],c=r[8],u=r[9],l=r[10],f=r[11];r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=h*s+c*i,t[5]=n*s+u*i,t[6]=a*s+l*i,t[7]=o*s+f*i,t[8]=c*s-h*i,t[9]=u*s-n*i,t[10]=l*s-a*i,t[11]=f*s-o*i}(this,this,t),this.check()}rotateY(t){return function(t,r,e){var i=Math.sin(e),s=Math.cos(e),h=r[0],n=r[1],a=r[2],o=r[3],c=r[8],u=r[9],l=r[10],f=r[11];r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*s-c*i,t[1]=n*s-u*i,t[2]=a*s-l*i,t[3]=o*s-f*i,t[8]=h*i+c*s,t[9]=n*i+u*s,t[10]=a*i+l*s,t[11]=o*i+f*s}(this,this,t),this.check()}rotateZ(t){return function(t,r,e){var i=Math.sin(e),s=Math.cos(e),h=r[0],n=r[1],a=r[2],o=r[3],c=r[4],u=r[5],l=r[6],f=r[7];r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*s+c*i,t[1]=n*s+u*i,t[2]=a*s+l*i,t[3]=o*s+f*i,t[4]=c*s-h*i,t[5]=u*s-n*i,t[6]=l*s-a*i,t[7]=f*s-o*i}(this,this,t),this.check()}rotateXYZ([t,r,e]){return this.rotateX(t).rotateY(r).rotateZ(e)}rotateAxis(t,r){return function(t,r,e,i){var s,h,n,a,o,c,u,l,f,d,g,M,m,p,y,E,x,w,O,b,S,k,v,N,R=i[0],L=i[1],P=i[2],I=Math.hypot(R,L,P);I<_||(R*=I=1/I,L*=I,P*=I,s=Math.sin(e),n=1-(h=Math.cos(e)),a=r[0],o=r[1],c=r[2],u=r[3],l=r[4],f=r[5],d=r[6],g=r[7],M=r[8],m=r[9],p=r[10],y=r[11],E=R*R*n+h,x=L*R*n+P*s,w=P*R*n-L*s,O=R*L*n-P*s,b=L*L*n+h,S=P*L*n+R*s,k=R*P*n+L*s,v=L*P*n-R*s,N=P*P*n+h,t[0]=a*E+l*x+M*w,t[1]=o*E+f*x+m*w,t[2]=c*E+d*x+p*w,t[3]=u*E+g*x+y*w,t[4]=a*O+l*b+M*S,t[5]=o*O+f*b+m*S,t[6]=c*O+d*b+p*S,t[7]=u*O+g*b+y*S,t[8]=a*k+l*v+M*N,t[9]=o*k+f*v+m*N,t[10]=c*k+d*v+p*N,t[11]=u*k+g*v+y*N,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]))}(this,this,t,r),this.check()}scale(t){return Array.isArray(t)?lt(this,this,t):lt(this,this,[t,t,t]),this.check()}translate(t){return function(t,r,e){var i,s,h,n,a,o,c,u,l,f,d,g,M=e[0],m=e[1],p=e[2];r===t?(t[12]=r[0]*M+r[4]*m+r[8]*p+r[12],t[13]=r[1]*M+r[5]*m+r[9]*p+r[13],t[14]=r[2]*M+r[6]*m+r[10]*p+r[14],t[15]=r[3]*M+r[7]*m+r[11]*p+r[15]):(i=r[0],s=r[1],h=r[2],n=r[3],a=r[4],o=r[5],c=r[6],u=r[7],l=r[8],f=r[9],d=r[10],g=r[11],t[0]=i,t[1]=s,t[2]=h,t[3]=n,t[4]=a,t[5]=o,t[6]=c,t[7]=u,t[8]=l,t[9]=f,t[10]=d,t[11]=g,t[12]=i*M+a*m+l*p+r[12],t[13]=s*M+o*m+f*p+r[13],t[14]=h*M+c*m+d*p+r[14],t[15]=n*M+u*m+g*p+r[15])}(this,this,t),this.check()}transform(t,r){return 4===t.length?(r=function(t,r,e){var i=r[0],s=r[1],h=r[2],n=r[3];return t[0]=e[0]*i+e[4]*s+e[8]*h+e[12]*n,t[1]=e[1]*i+e[5]*s+e[9]*h+e[13]*n,t[2]=e[2]*i+e[6]*s+e[10]*h+e[14]*n,t[3]=e[3]*i+e[7]*s+e[11]*h+e[15]*n,t}(r||[-0,-0,-0,-0],t,this),L(r,4),r):this.transformAsPoint(t,r)}transformAsPoint(t,r){const{length:e}=t;switch(e){case 2:r=j(r||[-0,-0],t,this);break;case 3:r=K(r||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return L(r,t.length),r}transformAsVector(t,r){switch(t.length){case 2:r=C(r||[-0,-0],t,this);break;case 3:r=X(r||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return L(r,t.length),r}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,r,e){return this.identity().translate([t,r,e])}transformPoint(t,r){return I("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,r)}transformVector(t,r){return I("Matrix4.transformVector","3.0"),this.transformAsPoint(t,r)}transformDirection(t,r){return I("Matrix4.transformDirection","3.0"),this.transformAsVector(t,r)}}function pt(){var t=new Z(4);return Z!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function yt(t,r,e){e*=.5;var i=Math.sin(e);return t[0]=i*r[0],t[1]=i*r[1],t[2]=i*r[2],t[3]=Math.cos(e),t}function Et(t,r,e){var i=r[0],s=r[1],h=r[2],n=r[3],a=e[0],o=e[1],c=e[2],u=e[3];return t[0]=i*u+n*a+s*c-h*o,t[1]=s*u+n*o+h*a-i*c,t[2]=h*u+n*c+i*o-s*a,t[3]=n*u-i*a-s*o-h*c,t}var xt,wt,Ot,bt=function(t){var r=t[0],e=t[1],i=t[2],s=t[3];return Math.hypot(r,e,i,s)},St=function(t){var r=t[0],e=t[1],i=t[2],s=t[3];return r*r+e*e+i*i+s*s},kt=(xt=V(),wt=D(1,0,0),Ot=D(0,1,0),function(t,r,e){var i=W(r,e);return i<-.999999?(B(xt,wt,r),U(xt)<1e-6&&B(xt,Ot,r),function(t,r){var e=r[0],i=r[1],s=r[2],h=e*e+i*i+s*s;h>0&&(h=1/Math.sqrt(h)),t[0]=r[0]*h,t[1]=r[1]*h,t[2]=r[2]*h}(xt,xt),yt(t,xt,Math.PI),t):i>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(B(xt,r,e),t[0]=xt[0],t[1]=xt[1],t[2]=xt[2],t[3]=1+i,function(t,r){var e=r[0],i=r[1],s=r[2],h=r[3],n=e*e+i*i+s*s+h*h;return n>0&&(n=1/Math.sqrt(n)),t[0]=e*n,t[1]=i*n,t[2]=s*n,t[3]=h*n,t}(t,t))});pt(),pt(),function(){var t=new Z(9);Z!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1}();const vt=[0,0,0,1];class Nt extends N{constructor(t=0,r=0,e=0,i=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,r,e,i)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,r,e,i){return this[0]=t,this[1]=r,this[2]=e,this[3]=i,this.check()}fromMatrix3(t){return function(t,r){var e,i=r[0]+r[4]+r[8];if(i>0)e=Math.sqrt(i+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var s=0;r[4]>r[0]&&(s=1),r[8]>r[3*s+s]&&(s=2);var h=(s+1)%3,n=(s+2)%3;e=Math.sqrt(r[3*s+s]-r[3*h+h]-r[3*n+n]+1),t[s]=.5*e,e=.5/e,t[3]=(r[3*h+n]-r[3*n+h])*e,t[h]=(r[3*h+s]+r[3*s+h])*e,t[n]=(r[3*n+s]+r[3*s+n])*e}}(this,t),this.check()}identity(){return function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=1}(this),this.check()}fromAxisRotation(t,r){return yt(this,t,r),this.check()}setAxisAngle(t,r){return this.fromAxisRotation(t,r)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=R(t)}get y(){return this[1]}set y(t){this[1]=R(t)}get z(){return this[2]}set z(t){this[2]=R(t)}get w(){return this[3]}set w(t){this[3]=R(t)}len(){return bt(this)}lengthSquared(){return St(this)}dot(t,r){if(void 0!==r)throw new Error("Quaternion.dot only takes one argument");return function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}(this,t)}rotationTo(t,r){return kt(this,t,r),this.check()}add(t,r){if(void 0!==r)throw new Error("Quaternion.add only takes one argument");return function(t,r,e){t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3]}(this,this,t),this.check()}calculateW(){return function(t,r){var e=r[0],i=r[1],s=r[2];t[0]=e,t[1]=i,t[2]=s,t[3]=Math.sqrt(Math.abs(1-e*e-i*i-s*s))}(this,this),this.check()}conjugate(){return function(t,r){t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3]}(this,this),this.check()}invert(){return function(t,r){var e=r[0],i=r[1],s=r[2],h=r[3],n=e*e+i*i+s*s+h*h,a=n?1/n:0;t[0]=-e*a,t[1]=-i*a,t[2]=-s*a,t[3]=h*a}(this,this),this.check()}lerp(t,r,e){return function(t,r,e,i){var s=r[0],h=r[1],n=r[2],a=r[3];t[0]=s+i*(e[0]-s),t[1]=h+i*(e[1]-h),t[2]=n+i*(e[2]-n),t[3]=a+i*(e[3]-a)}(this,t,r,e),this.check()}multiplyRight(t,r){return i(!r),Et(this,this,t),this.check()}multiplyLeft(t,r){return i(!r),Et(this,t,this),this.check()}normalize(){const t=this.len(),r=t>0?1/t:0;return this[0]=this[0]*r,this[1]=this[1]*r,this[2]=this[2]*r,this[3]=this[3]*r,0===t&&(this[3]=1),this.check()}rotateX(t){return function(t,r,e){e*=.5;var i=r[0],s=r[1],h=r[2],n=r[3],a=Math.sin(e),o=Math.cos(e);t[0]=i*o+n*a,t[1]=s*o+h*a,t[2]=h*o-s*a,t[3]=n*o-i*a}(this,this,t),this.check()}rotateY(t){return function(t,r,e){e*=.5;var i=r[0],s=r[1],h=r[2],n=r[3],a=Math.sin(e),o=Math.cos(e);t[0]=i*o-h*a,t[1]=s*o+n*a,t[2]=h*o+i*a,t[3]=n*o-s*a}(this,this,t),this.check()}rotateZ(t){return function(t,r,e){e*=.5;var i=r[0],s=r[1],h=r[2],n=r[3],a=Math.sin(e),o=Math.cos(e);t[0]=i*o+s*a,t[1]=s*o-i*a,t[2]=h*o+n*a,t[3]=n*o-h*a}(this,this,t),this.check()}scale(t){return function(t,r,e){t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e}(this,this,t),this.check()}slerp(t,r,e){switch(arguments.length){case 1:({start:t=vt,target:r,ratio:e}=arguments[0]);break;case 2:[r,e]=arguments,t=this}return function(t,r,e,i){var s,h,n,a,o,c=r[0],u=r[1],l=r[2],f=r[3],d=e[0],g=e[1],M=e[2],m=e[3];(h=c*d+u*g+l*M+f*m)<0&&(h=-h,d=-d,g=-g,M=-M,m=-m),1-h>_?(s=Math.acos(h),n=Math.sin(s),a=Math.sin((1-i)*s)/n,o=Math.sin(i*s)/n):(a=1-i,o=i),t[0]=a*c+o*d,t[1]=a*u+o*g,t[2]=a*l+o*M,t[3]=a*f+o*m}(this,t,r,e),this.check()}transformVector4(t,r=t){return function(t,r,e){var i=r[0],s=r[1],h=r[2],n=e[0],a=e[1],o=e[2],c=e[3],u=c*i+a*h-o*s,l=c*s+o*i-n*h,f=c*h+n*s-a*i,d=-n*i-a*s-o*h;t[0]=u*c+d*-n+l*-o-f*-a,t[1]=l*c+d*-a+f*-n-u*-o,t[2]=f*c+d*-o+u*-a-l*-n,t[3]=r[3]}(r,t,this),L(r,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,r){return this.setAxisAngle(t,r)}premultiply(t,r){return this.multiplyLeft(t,r)}multiply(t,r){return this.multiplyRight(t,r)}}const Rt={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI},Lt=1e-6;class Pt{constructor({phi:t=0,theta:r=0,radius:e=1,bearing:i,pitch:s,altitude:h,radiusScale:n=6371e3}={}){this.phi=t,this.theta=r,this.radius=e||h||1,this.radiusScale=n||1,void 0!==i&&(this.bearing=i),void 0!==s&&(this.pitch=s),this.check()}toString(){return this.formatString(n)}formatString({printTypes:t=!1}){const r=o;return"".concat(t?"Spherical":"","[rho:").concat(r(this.radius),",theta:").concat(r(this.theta),",phi:").concat(r(this.phi),"]")}equals(t){return S(this.radius,t.radius)&&S(this.theta,t.theta)&&S(this.phi,t.phi)}exactEquals(t){return this.radius===t.radius&&this.theta===t.theta&&this.phi===t.phi}get bearing(){return 180-M(this.phi)}set bearing(t){this.phi=Math.PI-g(t)}get pitch(){return M(this.theta)}set pitch(t){this.theta=g(t)}get longitude(){return M(this.phi)}get latitude(){return M(this.theta)}get lng(){return M(this.phi)}get lat(){return M(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(t,r,e){return this.radius=t,this.phi=r,this.theta=e,this.check()}clone(){return(new Pt).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this.check()}fromLngLatZ([t,r,e]){this.radius=1+e/this.radiusScale,this.phi=g(r),this.theta=g(t)}fromVector3(t){return this.radius=F(t),this.radius>0&&(this.theta=Math.atan2(t[0],t[1]),this.phi=Math.acos(O(t[2]/this.radius,-1,1))),this.check()}toVector3(){return new J(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(Lt,Math.min(Math.PI-Lt,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}const It="Unknown Euler angle order",At=.99999;class Tt extends N{static get ZYX(){return 0}static get YXZ(){return 1}static get XZY(){return 2}static get ZXY(){return 3}static get YZX(){return 4}static get XYZ(){return 5}static get RollPitchYaw(){return 0}static get DefaultOrder(){return Tt.ZYX}static get RotationOrders(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}static rotationOrder(t){return Tt.RotationOrders[t]}get ELEMENTS(){return 4}constructor(t=0,r=0,e=0,i=Tt.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(t,r,e,i)}fromQuaternion(t){const[r,e,i,s]=t,h=e*e,n=-2*(h+i*i)+1,a=2*(r*e+s*i);let o=-2*(r*i-s*e);const c=2*(e*i+s*r),u=-2*(r*r+h)+1;o=o>1?1:o,o=o<-1?-1:o;const l=Math.atan2(c,u),f=Math.asin(o),d=Math.atan2(a,n);return new Tt(l,f,d,Tt.RollPitchYaw)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=Number.isFinite(t[3])||this.order,this.check()}set(t=0,r=0,e=0,i){return this[0]=t,this[1]=r,this[2]=e,this[3]=Number.isFinite(i)?i:this[3],this.check()}validate(){return(t=this[3])>=0&&t<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var t}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}toArray4(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t}toVector3(t=[-0,-0,-0]){return t[0]=this[0],t[1]=this[1],t[2]=this[2],t}get x(){return this[0]}set x(t){this[0]=R(t)}get y(){return this[1]}set y(t){this[1]=R(t)}get z(){return this[2]}set z(t){this[2]=R(t)}get alpha(){return this[0]}set alpha(t){this[0]=R(t)}get beta(){return this[1]}set beta(t){this[1]=R(t)}get gamma(){return this[2]}set gamma(t){this[2]=R(t)}get phi(){return this[0]}set phi(t){this[0]=R(t)}get theta(){return this[1]}set theta(t){this[1]=R(t)}get psi(){return this[2]}set psi(t){this[2]=R(t)}get roll(){return this[0]}set roll(t){this[0]=R(t)}get pitch(){return this[1]}set pitch(t){this[1]=R(t)}get yaw(){return this[2]}set yaw(t){this[2]=R(t)}get order(){return this[3]}set order(t){this[3]=function(t){if(t<0&&t>=6)throw new Error(It);return t}(t)}fromVector3(t,r){return this.set(t[0],t[1],t[2],Number.isFinite(r)?r:this[3])}fromArray(t,r=0){return this[0]=t[0+r],this[1]=t[1+r],this[2]=t[2+r],void 0!==t[3]&&(this[3]=t[3]),this.check()}fromRollPitchYaw(t,r,e){return this.set(t,r,e,Tt.ZYX)}fromRotationMatrix(t,r=Tt.DefaultOrder){return this._fromRotationMatrix(t,r),this.check()}getRotationMatrix(t){return this._getRotationMatrix(t)}getQuaternion(){const t=new Nt;switch(this[3]){case Tt.XYZ:return t.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case Tt.YXZ:return t.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case Tt.ZXY:return t.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case Tt.ZYX:return t.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case Tt.YZX:return t.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case Tt.XZY:return t.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(It)}}_fromRotationMatrix(t,r=Tt.DefaultOrder){const e=t.elements,i=e[0],s=e[4],h=e[8],n=e[1],a=e[5],o=e[9],c=e[2],u=e[6],l=e[10];switch(r=r||this[3]){case Tt.XYZ:this[1]=Math.asin(O(h,-1,1)),Math.abs(h)<At?(this[0]=Math.atan2(-o,l),this[2]=Math.atan2(-s,i)):(this[0]=Math.atan2(u,a),this[2]=0);break;case Tt.YXZ:this[0]=Math.asin(-O(o,-1,1)),Math.abs(o)<At?(this[1]=Math.atan2(h,l),this[2]=Math.atan2(n,a)):(this[1]=Math.atan2(-c,i),this[2]=0);break;case Tt.ZXY:this[0]=Math.asin(O(u,-1,1)),Math.abs(u)<At?(this[1]=Math.atan2(-c,l),this[2]=Math.atan2(-s,a)):(this[1]=0,this[2]=Math.atan2(n,i));break;case Tt.ZYX:this[1]=Math.asin(-O(c,-1,1)),Math.abs(c)<At?(this[0]=Math.atan2(u,l),this[2]=Math.atan2(n,i)):(this[0]=0,this[2]=Math.atan2(-s,a));break;case Tt.YZX:this[2]=Math.asin(O(n,-1,1)),Math.abs(n)<At?(this[0]=Math.atan2(-o,a),this[1]=Math.atan2(-c,i)):(this[0]=0,this[1]=Math.atan2(h,l));break;case Tt.XZY:this[2]=Math.asin(-O(s,-1,1)),Math.abs(s)<At?(this[0]=Math.atan2(u,a),this[1]=Math.atan2(h,i)):(this[0]=Math.atan2(-o,l),this[1]=0);break;default:throw new Error(It)}return this[3]=r,this}_getRotationMatrix(t){const r=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=this.x,i=this.y,s=this.z,h=Math.cos(e),n=Math.cos(i),a=Math.cos(s),o=Math.sin(e),c=Math.sin(i),u=Math.sin(s);switch(this[3]){case Tt.XYZ:{const t=h*a,e=h*u,i=o*a,s=o*u;r[0]=n*a,r[4]=-n*u,r[8]=c,r[1]=e+i*c,r[5]=t-s*c,r[9]=-o*n,r[2]=s-t*c,r[6]=i+e*c,r[10]=h*n;break}case Tt.YXZ:{const t=n*a,e=n*u,i=c*a,s=c*u;r[0]=t+s*o,r[4]=i*o-e,r[8]=h*c,r[1]=h*u,r[5]=h*a,r[9]=-o,r[2]=e*o-i,r[6]=s+t*o,r[10]=h*n;break}case Tt.ZXY:{const t=n*a,e=n*u,i=c*a,s=c*u;r[0]=t-s*o,r[4]=-h*u,r[8]=i+e*o,r[1]=e+i*o,r[5]=h*a,r[9]=s-t*o,r[2]=-h*c,r[6]=o,r[10]=h*n;break}case Tt.ZYX:{const t=h*a,e=h*u,i=o*a,s=o*u;r[0]=n*a,r[4]=i*c-e,r[8]=t*c+s,r[1]=n*u,r[5]=s*c+t,r[9]=e*c-i,r[2]=-c,r[6]=o*n,r[10]=h*n;break}case Tt.YZX:{const t=h*n,e=h*c,i=o*n,s=o*c;r[0]=n*a,r[4]=s-t*u,r[8]=i*u+e,r[1]=u,r[5]=h*a,r[9]=-o*a,r[2]=-c*a,r[6]=e*u+i,r[10]=t-s*u;break}case Tt.XZY:{const t=h*n,e=h*c,i=o*n,s=o*c;r[0]=n*a,r[4]=-u,r[8]=c*a,r[1]=t*u+s,r[5]=h*a,r[9]=e*u-i,r[2]=i*u-e,r[6]=o*a,r[10]=s*u+t;break}default:throw new Error(It)}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}toQuaternion(){const t=Math.cos(.5*this.yaw),r=Math.sin(.5*this.yaw),e=Math.cos(.5*this.roll),i=Math.sin(.5*this.roll),s=Math.cos(.5*this.pitch),h=Math.sin(.5*this.pitch);return new Nt(t*i*s-r*e*h,t*e*h+r*i*s,r*e*s-t*i*h,t*e*s+r*i*h)}}class _t{constructor({x:t=0,y:r=0,z:e=0,roll:i=0,pitch:s=0,yaw:h=0,position:n,orientation:a}={}){Array.isArray(n)&&3===n.length?this.position=new J(n):this.position=new J(t,r,e),Array.isArray(a)&&4===a.length?this.orientation=new Tt(a,a[3]):this.orientation=new Tt(i,s,h,Tt.RollPitchYaw)}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get z(){return this.position.z}set z(t){this.position.z=t}get roll(){return this.orientation.roll}set roll(t){this.orientation.roll=t}get pitch(){return this.orientation.pitch}set pitch(t){this.orientation.pitch=t}get yaw(){return this.orientation.yaw}set yaw(t){this.orientation.yaw=t}getPosition(){return this.position}getOrientation(){return this.orientation}equals(t){return!!t&&this.position.equals(t.position)&&this.orientation.equals(t.orientation)}exactEquals(t){return!!t&&this.position.exactEquals(t.position)&&this.orientation.exactEquals(t.orientation)}getTransformationMatrix(){const t=Math.sin(this.roll),r=Math.sin(this.pitch),e=Math.sin(this.yaw),i=Math.cos(this.roll),s=Math.cos(this.pitch),h=Math.cos(this.yaw);return(new mt).setRowMajor(h*s,-e*i+h*r*t,e*t+h*r*i,this.x,e*s,h*i+e*r*t,-h*t+e*r*i,this.y,-r,s*t,s*i,this.z,0,0,0,1)}getTransformationMatrixFromPose(t){return(new mt).multiplyRight(this.getTransformationMatrix()).multiplyRight(t.getTransformationMatrix().invert())}getTransformationMatrixToPose(t){return(new mt).multiplyRight(t.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}const Zt="undefined"!=typeof self&&self,Yt="undefined"!=typeof window&&window;(void 0!==e.g&&e.g||Zt||Yt).mathgl={config:n}},434:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(t){this.uri=t}async getImageData(){return this.loadFile().then((async t=>{const r=await createImageBitmap(t[1]),e=document.createElement("canvas"),i=e.getContext("2d");return e.width=r.width,e.height=r.height,i.drawImage(r,0,0),i.getImageData(0,0,e.width,e.height).data}))}async loadFile(){const t=await fetch(this.uri),r=await t.blob();return[r,new File([r],"bitmap.png",r)]}}},862:function(t,r,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=i(e(486)),h=i(e(974)),n=i(e(319));class a extends s.default{constructor(t,r){super(t,r),this.width=t,this.height=r,this.context=this.getCanvasInstance(),this.level=new n.default(this.context),this.run()}run(){this.init(),window.requestAnimationFrame((()=>this.render()))}init(){h.default.disableImageSmoothing(this.context),this.level.init()}render(){this.level.render(),window.requestAnimationFrame((()=>this.render()))}}new a(800,400)},319:function(t,r,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=e(648),h=i(e(434)),n=i(e(777)),a=i(e(111)),o=i(e(134));r.default=class{constructor(t){this.renderables=new Array,this.pixels=new Array,this.bitmap=new h.default("../../assets/img/bitmap.png"),this.context=t}init(){this.loadPixels(),this.addPlayer(),this.addBlocks(),console.log(this.getAllRenderables())}addBlocks(){this.loadPixels().then((()=>{this.pixels.forEach((t=>{4278190335===t.colorHex&&this.add(new n.default(t.pos.multiplyByScalar(16),new s.Vector2(16,16),new s.Vector4(189,195,199,255)))}))}))}async loadPixels(){return this.bitmap.getImageData().then((t=>{const r=new s.Vector2(0,0);for(let e=4;e<=t.length;e+=4){const i=Array.from(t.subarray(e-4,e));r.x>=50&&(r.x=0,r.y++),this.pixels.push(new o.default(new s.Vector2(r.x,r.y),new s.Vector4(i))),r.x++}}))}addPlayer(){const t=new s.Vector2(0,0),r=new s.Vector2(16,32),e=new s.Vector4(255,255,0,255);this.add(new a.default(new s.Vector2(t.x,t.y),r,e))}add(t){return this.renderables.push(t),t}getAllRenderables(){return this.renderables}render(){this.getAllRenderables().forEach((t=>t.render(this.context)))}}},134:function(t,r,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=i(e(6));r.default=class{constructor(t,r){this.pos=t,this.color=r,this.colorHex=s.default.rgba2Hex(r)}}},777:function(t,r,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=i(e(974)),h=i(e(6));r.default=class{constructor(t,r,e){this.pos=t,this.size=r,this.color=e,this.hexColor=h.default.rgba2Hex(e)}render(t){s.default.renderRect(t,this.pos,this.size,this.color)}}},486:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(t,r){this.width=t,this.height=r}getCanvasInstance(){const t=document.querySelector("#game");t.width=this.width,t.height=this.height;const r=t.getContext("2d");if(null===r)throw"Your browser don't support canvas :(";return r}}},111:function(t,r,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=i(e(974));r.default=class{constructor(t,r,e){this.pos=t,this.size=r,this.color=e}render(t){s.default.renderRect(t,this.pos,this.size,this.color)}}},974:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});class e extends CanvasRenderingContext2D{static renderRect(t,r,e,i,s=!1){this.resetFillStyle(t),t.fillStyle=this.getColor(i).toString(),t.fillRect(r.x,r.y,e.x,e.y),s&&t.strokeRect(r.x,r.y,e.x,e.y),this.resetFillStyle(t)}static renderCircle(t,r,e,i,s=!1,h=!0){this.resetFillStyle(t),t.beginPath(),t.fillStyle=this.getColor(i).toString(),t.arc(r.x,r.y,e.x+e.y??0,0,2*Math.PI),h&&t.fill(),s&&t.stroke(),this.resetFillStyle(t)}static renderText(t,r,e,i,s){t.font=e,t.fillText(r,i.x,i.y,s),this.resetTextSettings(t)}static renderShadows(t,r,e,i,s){t.shadowColor=r,t.shadowBlur=e,t.shadowOffsetX=i,t.shadowOffsetY=s}static drawImage(t,r,e,i){const s=new Image;s.src=r,t.drawImage(s,e.x,e.y,i.x,i.y)}static disableImageSmoothing(t){t.imageSmoothingEnabled=!1}static resetImageSmoothing(t){t.imageSmoothingEnabled=!0}static resetShadows(t){t.shadowColor="rgba(0, 0, 0, 0.0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}static resetFillStyle(t){t.fillStyle="rgb(0, 0, 0)"}static resetTextSettings(t){t.font="10px sans-serif"}static getColor(t){return`rgb(${t.x}, ${t.y}, ${t.z})`}}r.default=e},6:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});class e{static range(t,r){const e=[];for(let i=t;i<=r;i++)e.push(i);return e}static isInRange(t,r,e=!1){return t>=r[0]&&t<=r[1]}static randomRange(t,r){return Math.floor(Math.random()*(r-t+1)+t)}static newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=16*Math.random()|0;return("x"==t?r:3&r|8).toString(16)}))}static rgba2Hex(t){let r="";for(const i of t.elements)r+=e.rgbaValue2Hex(i);return parseInt("0x"+r)}static rgbaValue2Hex(t){let r=Number(t).toString(16);return r.length<2&&(r="0"+r),r}}r.default=e}},r={};function e(i){var s=r[i];if(void 0!==s)return s.exports;var h=r[i]={exports:{}};return t[i].call(h.exports,h,h.exports,e),h.exports}e.d=(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(862)})();